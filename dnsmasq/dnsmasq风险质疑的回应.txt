关于hosts、dnsmasq规则，对“大神”@abccba94产生质疑的回应！
原帖：http://www.right.com.cn/forum/forum.php?mod=viewthread&tid=219948&mobile=1
备份日期：2017-6-28 05:42
———————————————————————————————————————————————————————

帖子比较丑，大家凑合看吧！

质疑的原帖：
http://www.right.com.cn/forum/forum.php?mod=viewthread&tid=219905&mobile=1

你的观点：一
“二、你可能认为的Hosts扶墙原理
在几个月前，当我第一次听说Hosts扶墙时，我认为的原理是这样的：
1、通过在本机Hosts中指定域名和IP的对应关系，获取google等网站的真实IP地址，消除DNS污染
2、通过本机与真实IP进行通讯，从而实现扶墙
但是当我花了点时间进行分析时，发现这个是大错特错的
三、你可能不知道的GFW
首先我们来看看GFW做了哪些工作
我们通过计算机的ping命令来获取域名对应的IP：
可以看到，当我们ping google时，DNS服务器返回的是一个垃圾IP
我们再用pdnsd消除dns污染后，再ping：
此时，虽然计算机已经获取了google服务器的正确IP，但还是无法ping通的，GFW还是进行了拦截
因此我们可以确定：单纯知道google服务器的正确地址，也是无法扶墙的
GFW不仅对域名进行了污染，还对指定的IP地址段进行了数据干扰，同时还对一些关键字进行了截取和干扰，这也是gfwlist为何要用base64加密的原因，你直接拷贝明文的GFWList文件是拷贝不下来的”

反驳：
想知道hosts的原理，那么我们就得知道GFW是如何工作的。
GFW主要技术手段以及对应方法：
关键词拦截：在http时代很有效，匹配到关键词就给链接双方发连接重置达到阻断连接。但到了全面SSL加密后，这种方式对https链接已无效。
DNS污染你的域名：这是最经济的做法。把域名解析到一个错误IP上造成无法访问。这时候hosts就派上用场了。
大批量封锁域名对应的IP（段）：你上面说“用pdnsd消除dns污染”，但你获得的是被封锁的IP，自然就无法ping通，你就这么草率的下结论，你有试过找个可ping通的官方IP测试？没有吧。所以你自己的错误结论又要误导一群人。
得益于谷歌、Facebook等大公司财力雄厚，他们在全球有一大堆服务器IP没被封锁还可以用。





你的观点：二
“四、你需要知道的Hosts扶墙原理
本帖隐藏的内容
其实要想知道原理很简单，我们把所谓的Hosts列表(此列表用dnsmasq规则编写，等同于Hosts)拿来展示一下：
你发现了什么？！
在此hosts中将对google、youtube等站点的访问都指向了同一个IP地址！此IP地址是个什么东西呢？
它是香港PCCW机房的一个服务器，其实就是一个反向代理服务器，关于如何搭建反向代理可以参考【此文】，任何人有个VPS就可以搭建，”

回答：
https://raw.githubusercontent.com/sy618/hosts/master/dnsmasq/dnsfq
这个规则部分域名是使用了香港运营商提供的公共代理sni服务器，他们服务器是用来加速一些服务的。我们国内移动、联通、电信运营商等都有架设这种服务器在国内。这些服务器是无法解密你数据包加密的内容，更不可能实施中间人攻击。最多就是能看到你域名的DNS请求。
绝对安全性什么的我个人不保证，在帖子里与github上都已经明文提醒了。
目前规则内，只有部分Twitter域名（因锅**事件被特别封锁）、部分dropbox域名（穷逼公司没几个可用IP）、谷歌视频播放与商店下载域名（域名必须严格对应IP才能正常工作） 需要借助反向代理来实现。这种反向代理服务器同样是看不到https加密协议的通信内容的，服务器只负责转发流量。
规则内其余的全部域名都是通过DNS反查得到（未被封锁）的官方IP。




你的观点：三
“Hosts文件是系统很关键的一个文件，试想如果有人将关键网站的域名改成一个黑客的服务器IP，你的所有数据就会经过此服务器；
如果再进一步，搞一个钓鱼网站，你访问此网站就变成了访问钓鱼网站，你输入的账号、密码也都可能会被记录。
这就好像有人修改你的手机通讯录，将你关键联系人的电话号码改成另外一个号码一样的道理。”

回答：这点不能忍，说的好像做规则的人那么黑心 ，那么我质疑你的固件加了后门，毕竟是被你修改过的，这样你肯？
你直接到github项目上看，https://github.com/sy618/hosts
这个项目维护了一年半多，累计更新500次了。你看到有谁投诉过的？历史改动记录都是能查到的。
dnsmasq规则都是开源的，里面都清楚标明了注释。
在座的各位谁能找到任何有【问题的IP】、【奇怪的域名】、【国内钓鱼域名】 ，带上你的证据，随时欢迎来批判我！
就我个人观察，还没有见过使用hosts作恶的人。

（但确实存在一些人开发个皮包软件，再抄袭别人开源hosts数据去盈利的“大神”，实在恶心到我了。所以我的hosts都混乱排序了。）




你的观点：四
“其实，用Hosts扶墙真的还不如去找免费的$ $代理。”

回答：免费的ss，要监控你不是更简单？听说过蜜罐吗？
要我说，要安全，就得自己去买vps服务器，再转到Tor网络。



最后，还是要替广大小白们感谢您，给他们都上了科普课。
本来，我帖子http://right.com.cn/forum/thread-216155-1-1.html就只是发在padavan区，只给那些使用相同固件的人用的。并没有要传播的意思。
不想反驳什么，但不允许没证据就对我瞎批判。

个人做这些规则纯粹自用，发出来只是想找些志同道合的人一起维护而已。现在看来我是吃饱撑着了，人没找到，心已寒。
从来就没想过要盈利什么的，更不稀罕你的破烂个人数据。



总之一句话，不喜勿用，要喷就得拿出证据来！
非盈利项目，以后将以个人需求与标准来维护数据。